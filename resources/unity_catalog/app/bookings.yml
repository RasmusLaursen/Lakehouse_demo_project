variables:
  source_system_bookings:
    default: bookings

resources:
  schemas:
    bookings_landing_schema:
      name: ${var.source_system_bookings}
      catalog_name: ${var.landing_catalog}
      comment: This schema was created by Databricks Asset Bundles.   
      grants:
      - principal: ${resources.apps.bookings_app.service_principal_client_id}
        privileges: 
          - USE_SCHEMA      
    bookings_raw_schema:
      name: ${var.source_system_bookings}
      catalog_name: ${var.raw_catalog}
      comment: This schema was created by Databricks Asset Bundles.
    bookings_base_schema:
      name: ${var.source_system_bookings}
      catalog_name: ${var.base_catalog}
      comment: This schema was created by Databricks Asset Bundles.  
      grants:
      - principal: ${resources.apps.bookings_app.service_principal_client_id}
        privileges: 
          - USE_SCHEMA

  volumes: 
    bookings_volume:
      catalog_name: ${resources.schemas.bookings_landing_schema.catalog_name}
      name: bookings
      schema_name: ${resources.schemas.bookings_landing_schema.name}
      grants:
        - principal: ${resources.apps.bookings_app.service_principal_client_id}
          privileges: 
            - READ_VOLUME
            - WRITE_VOLUME